**веб-сервер** - программа которая по запросу будет «отдавать» пользователю нужные страницы.

### Шаги создания
1) `adduser имя` - создание нового пользователя
2) `usermod -aG sudo имя` - добавление пользователя в группу sudo
3) `sudo apt install apache2` - установка apache
4) `su имя` - переключение на созданного пользователя
5) `sudo ufw allow WWW` - открытие соединения на порту 80
6) `sudo ufw allow 22` - открытие 22 порта для ssh
7) `sudo ufw enable && ufw status` - включение брандмауэра для безопасности

### Команды сервера
`sudo systemctl status apache2` - проверка статуса работы
`sudo systemctl start apache2`- запуск сервера
`sudo systemctl stop apache2` - остановка сервера

### Как и куда положить сайт
По тупому нужно положить все файлы в директорию html и перезапустить апаче и будет счастье.

Как сделать по умному рассказано ниже.
**Контент**
- _/var/www/html_: веб-контент, в состав которого по умолчанию входит только показанная ранее страница Apache по умолчанию, выводится из каталога _/var/www/html_. Это можно изменить путем изменения файлов конфигурации Apache.

**Конфигурация сервера**
- _/etc/apache2_: каталог конфигурации Apache. Здесь хранятся все файлы конфигурации Apache.
- _/etc/apache2/apache2conf_: главный файл конфигурации Apache. Его можно изменить для внесения изменений в глобальную конфигурацию Apache. Этот файл отвечает за загрузку многих других файлов в каталоге конфигурации.
- _/etc/apache2/ports.conf_: этот файл задает порты, которые будет прослушивать Apache. По умолчанию Apache прослушивает порта 80, а если активирован модуль с функциями SSL, он также прослушивает порт 443.
- _/etc/apache2/sites-available/_: каталог, где можно хранить виртуальные хосты для каждого сайта (когда на одной машине содержится несколько доменов, здесь же редактируется корневой каталог сайта). Apache не будет использовать файлы конфигурации из этого каталога, если они не будут связаны с каталогом sites-enabled. Обычно все изменения конфигурации серверных блоков выполняются в этом каталоге, а затем активируются посредством ссылки на другой каталог с помощью команды a2ensite.
- _/etc/apache2/sites-enabled/_: каталог, где хранятся активные виртуальные хосты для каждого сайта. Обычно они создаются посредством создания ссылок на файлы конфигурации из каталога sites-available с помощью команды a2ensite. Apache считывает файлы конфигурации и ссылки из этого каталога при запуске или перезагрузке, когда компилируется полная конфигурация.
- _/etc/apache2/conf-available/_, _/etc/apache2/conf-enabled_/: эти каталоги имеют те же отношения, что и каталоги sites-available и sites-enabled, но используются для хранения фрагментов конфигурации, которые не принадлежат виртуальному хосту. Файлы из каталога conf-available можно активировать с помощью команды a2enconf и отключить с помощью команды a2disconf.
- _/etc/apache2/mods-available/_, _/etc/apache2/mods-enabled/_: эти каталоги содержат доступны и активированные модули соответственно. Файлы с расширением .load содержат фрагменты для загрузки определенных модулей, а файлы с расширением .conf содержат конфигурации этих модулей. Модули можно активировать и отключать с помощью команд a2enmod и a2dismod.

**Журналы сервера**
- _/var/log/apache2/access.log_: по умолчанию каждый запрос веб-сервера регистрируется в этом файле журналда, если Apache не настроен по-другому.
- _/var/log/apache2/error.log_: по умолчанию все ошибки регистрируются в этом файле. Директива LogLevel в конфигурации Apache указывает, насколько детальные записи регистрируются в журналах ошибок.

Основной контент для хоста по умолчанию хранится в рабочей сервера директории _/__var__/__www__/__html_, конфигурация этого хоста содержится в директории _/__etc__/__apache__2/__sites__-__available__/000-__default__.__conf_. 

В директории с контентом _(/__var__/__www__/__html_), можно создавать, изменять, удалять необходимые для функционирования вашего сайта файлы (HTML, CSS, JS и т.п.):